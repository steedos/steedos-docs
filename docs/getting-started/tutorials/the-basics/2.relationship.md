# 第2课: 定义对象关系

在 Steedos 中，理解和利用对象关系是构建有效且功能丰富的自定义应用的关键。对象关系允许不同的对象之间建立连接，从而实现数据的关联和整合。本教程将通过创建一个简单的应用示例 —— 将 Todos 对象关联到 Projects 对象 —— 来解释对象关系的概念和操作步骤。

## 1. Steedos 对象关系概述
对象关系在 Steedos 中扮演着重要的角色。它们可以是以下几种类型之一：

- **主表-子表关系**：这种关系类似于传统数据库中的父-子关系。当删除主控对象时，从属对象也会被删除。
- **查找关系**：查找关系相当于数据库中的外键关系，允许对象相互独立，但仍然可以关联。
- **多对多关系**：通过将关系字段定义为数组类型字段，允许两个对象之间建立多对多的关联。

## 2. 创建 Todos 和 Projects 对象
在 Steedos 中，首先需要创建 Todos 和 Projects 这两个自定义对象。
1. 登录 Steedos，进入“设置”。
2. 在“对象管理”中，选择“新建”，创建 Todos 和 Projects 对象。
3. 为每个对象添加必要的字段，例如，Projects 可以包括“项目名称”、“开始日期”和“结束日期”等字段，而 Todos 可以包含“任务描述”、“截止日期”和“状态”。

## 3. 建立对象关系
以 Todos 和 Projects 为例，我们可以通过查找关系或主表-子表关系将它们关联起来。

### 查找关系
1. 在 Todos 对象的“字段和关系”下，选择“新建”。
2. 选择“查找关系”，然后选择 Projects 对象作为相关对象。
3. 完成字段设置并保存。这样，每个 Todo 都可以关联到一个特定的项目。

### 主表-子表关系
1. 重复上述步骤，但在字段类型中选择“主表-子表关系”。
2. 选择 Projects 作为主控对象。
3. 这种关系意味着，如果项目被删除，所有相关的 Todos 也会被删除。

## 4. 使用对象关系
一旦建立了对象关系，就可以在应用中利用这些关系来提高数据管理效率和用户体验。

### 数据整合
- 在 Projects 视图中，可以添加一个相关列表来显示所有关联的 Todos。
- 在 Todos 记录中，可以显示其所属的 Project 的详细信息。

### 自动化和工作流
- 在 Projects 中可以定义累计汇总字段统计任务的待办数和总数，并进一步使用公式字段计算任务进度的百分比。
- 配置工作流规则，设置当 Todo 完成时，自动更新 Project 的状态。

### 报告和仪表板
- 创建涵盖 Projects 和 Todos 数据的综合报告。
- 使用仪表板来可视化项目进度和待办事项的完成情况。

## 5. 测试和调整
创建了对象关系后，应进行测试以确保一切按预期工作。
1. 添加和修改 Projects 和 Todos 记录，观察关系字段是否正确显示。
2. 测试删除 Projects 记录时，相关的 Todos 记录的行为。
3. 根据测试结果调整字段设置和页面布局。

## 结语
通过在 Steedos 中正确设置和使用对象关系，您可以构建出强大且高效的自定义应用。在我们的示例中，Todos 和 Projects 的关联不仅帮助组织数据，还为项目管理和任务跟踪提供了强大的工具。随着您对 Steedos 功能的深入了解，您可以继续扩展和优化您的应用，以满足更复杂的业务需求。
