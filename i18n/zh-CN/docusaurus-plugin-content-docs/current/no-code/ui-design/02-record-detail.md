# 记录详情页视图

:::info 学习目标

* 理解默认详情页与自定义页面的区别。
* 学会使用 **页面设计器** 拖拽调整页面布局。
* 掌握如何将页面分栏、分组和使用选项卡 (Tabs)。
* **进阶**：设置字段的动态显示逻辑（例如：只有审核不通过时，才显示“驳回原因”）。
:::

## 什么是记录详情页？

在 Steedos 中，当用户在列表中点击某一行数据（例如点击一个“合同名称”）时，打开的页面就是 **记录详情页 (Record Detail Page)**。

它通常包含三个核心部分：

1. **头部 (Header)**：位于页面顶端，显示记录标题和关键操作按钮（编辑、删除、提交审批）。
2. **详细信息 (Details)**：页面的主体部分，展示该记录的所有字段内容。
3. **相关子表 (Related Lists)**：展示关联的子数据（例如：一个“项目”下的所有“任务”或“附件”）。

### 默认视图 vs. 自定义视图

| 特性 | 默认视图 (Default) | 自定义页面 (Custom) |
| --- | --- | --- |
| **生成方式** | 系统根据对象字段自动排列生成。 | 通过设计器手动拖拽排版。 |
| **布局结构** | 单列纵向排列。 | 支持多栏 (Columns)、选项卡 (Tabs)、折叠面板。 |
| **适用场景** | 字段较少、业务逻辑简单的对象。 | 复杂业务逻辑、字段众多或有特殊交互需求的对象。 |

---

## 认识 Steedos 页面设计器

Steedos 的界面引擎基于百度开源框架 **Amis**。它是一款极其强大的可视化编辑器，支持“所见即所得”的页面开发方式。

### 如何进入设计模式？

1. 打开任意一个记录详情页。
2. 点击右上角的 **设置 (齿轮图标)** -> **“编辑页面 (Edit Page)”**。
3. 系统将进入全屏设计模式，您可以实时预览修改效果。

### 设计器界面三要素

* **左侧：组件库 (Component Library)**：您的“工具箱”，包含布局容器（分栏、选项卡）、字段组件、图表及操作按钮。
* **中间：画布 (Canvas)**：您的“工作台”，通过拖拽组件到此处来构建页面。
* **右侧：属性面板 (Properties)**：选中画布上的某个组件后，在此处配置其标题、颜色、API 绑定及隐藏条件。

---

## 核心组件详解

在构建详情页时，以下两个组件是构成页面的基石：

### 1. 对象表单 (Object Form)

这是展示数据的主体。

* **配置**：可以指定关联的对象，并选择是显示“所有字段”还是“特定字段”。
* **技巧**：通过添加“分栏容器”，您可以将表单字段从单列变为多列，提高屏幕空间利用率。

### 2. 相关列表 (Related List)

用于展示当前记录的从属数据（子表）。

* **配置**：拖入组件后，在属性中选择 **“关联对象”**。
* **展示**：支持以 **表格 (Table)** 或 **列表 (List)** 形式展示，并可配置快捷操作按钮。

---

## 进阶：动态显隐规则 (Visible On)

这是 Steedos 实现业务智能化的核心功能之一。通过 **Visible On** 属性，您可以让页面根据数据内容“自动变脸”。

**场景示例**：在“项目”详情页中，只有当 `status` (项目状态) 字段被选为 `paused` (暂停) 时，才显示 `reason` (暂停原因) 输入框。

1. 在画布上选中 **“暂停原因”** 字段。
2. 在右侧属性面板中找到 **“显示条件 (Visible On)”**。
3. 输入表达式：`${this.status === 'paused'}`。
4. **效果**：当状态不是暂停时，该字段在界面上完全消失，从而保持界面的整洁。

> **Amis 表达式速查：**
> * `this.xxx`：引用当前表单中的字段。
> * `===` / `!==`：等于 / 不等于。
> * `&&` / `||`：逻辑“与” / 逻辑“或”。
> 
> 

---

## 常见问题 (FAQ)

**Q: 不同职位的用户能看到不同的页面吗？**
A: 可以。Steedos 支持 **“页面分配 (Page Assignment)”**。您可以为“项目经理”设计一套页面，为“财务总监”设计另一套页面，并在保存时分配给不同的 **简档 (Profile)**。
